# Git гайд

[![CC BY-NC-SA 4.0][cc-by-nc-sa-shield]][cc-by-nc-sa]

[cc-by-nc-sa]: http://creativecommons.org/licenses/by-nc-sa/4.0/
[cc-by-nc-sa-image]: https://licensebuttons.net/l/by-nc-sa/4.0/88x31.png
[cc-by-nc-sa-shield]: https://img.shields.io/badge/License-CC%20BY--NC--SA%204.0-lightgrey.svg

## Глава 1. Что такое Git и зачем он нужен?

Git - это система контроля версий, которая позволяет управлять изменениями в коде, текстовых документах и других файлах. Он был создан Линусом Торвальдсом для управления разработкой ядра Linux, и с тех пор стал широко используемым инструментом во многих других проектах.

Git позволяет сохранять все версии файла, сохранять изменения, возвращаться к предыдущим версиям и сравнивать их. Это делает Git полезным инструментом для разработчиков программного обеспечения, позволяя им работать над одним и тем же проектом в разных местах, даже если они не находятся в одной комнате.

Git позволяет не только отслеживать изменения, но и легко совместно работать над проектами. Он позволяет разработчикам работать вместе, объединять свои изменения и разрешать конфликты, что упрощает и ускоряет процесс разработки.

Кроме того, Git позволяет легко возвращаться к предыдущим версиям, если что-то идет не так, или если необходимо вернуться к работающей версии приложения.

В целом, Git является незаменимым инструментом для разработчиков программного обеспечения и других профессионалов, которые работают с кодом и другими текстовыми файлами.

## Глава 2. Основные концепции Git

Git является системой управления версиями, которая позволяет отслеживать изменения в коде и управлять ими. Для работы с Git необходимо понимать некоторые основные концепции и термины. В этой главе мы рассмотрим эти концепции и определим основные термины.

### Репозиторий

Репозиторий - это место, где хранится код и его история изменений. В Git репозиторий может быть *локальным*, то есть находиться на компьютере пользователя, или *удаленным*, находиться на другом компьютере или сервере.

### Коммит

Коммит - это снимок изменений, которые были внесены в код. Каждый коммит имеет уникальный идентификатор и содержит информацию о том, что было изменено, кем и когда.

### Ветка

Ветка - это отдельная ветвь изменений, которая отклоняется от основной ветки. Ветки позволяют разрабатывать код независимо друг от друга и объединять изменения при необходимости.

### Слияние

Слияние - это процесс объединения двух или более веток в одну. В Git это делается при помощи команды `git merge`. При слиянии Git пытается автоматически объединить изменения в разных ветках, но иногда может потребоваться ручное вмешательство.

### Версионирование

Версионирование - это процесс отслеживания и сохранения изменений в коде. В Git каждый коммит представляет собой отдельную версию кода, что позволяет в любой момент вернуться к предыдущей версии, если что-то пошло не так.

Понимание этих концепций и терминов позволит лучше понимать работу Git и использовать его более эффективно в вашем проекте.

### Вилка

В Git также существует понятие "*fork*" (вилка), которое означает создание копии удаленного репозитория другого пользователя, для дальнейшей работы с этой копией. При форке создается полная копия удаленного репозитория, включая историю коммитов и веток. 

Это позволяет работать с проектом независимо от оригинального автора и предоставляет возможность вносить изменения в проект, не требуя доступа к оригинальному репозиторию. 

Кроме того, форк может использоваться для предложения изменений в исходный проект через механизм *pull request*, который позволяет сделать запрос на включение изменений в исходный проект.

### Pull request

Pull request (PR) - это механизм, который позволяет разработчикам сделать изменения в коде другого разработчика или организации, и отправить эти изменения на рассмотрение.

Процесс начинается с того, что разработчик форкает репозиторий, делает свои изменения и затем отправляет запрос на слияние (pull request) в основной репозиторий. Владелец или модераторы основного репозитория могут просмотреть изменения, прокомментировать их и принять или отклонить запрос на слияние. Если изменения в PR были одобрены, они могут быть слиты (merged) в основной репозиторий.

Pull request - это отличный способ сотрудничать с другими разработчиками, особенно на *opensource* площадках как [*GitHub*](https://github.com), чтобы улучшить качество кода, ускорить процесс разработки и улучшить общую архитектуру приложения.

### Консоль или GUI

Git является консольным приложением и управляется через терминал. Однако, для упрощения работы с ним, существуют различные графические интерфейсы (GUI) для работы с Git, которые позволяют выполнять большинство операций с помощью мыши и кнопок.

Некоторые из наиболее популярных графических интерфейсов для Git включают в себя [*Sourcetree*](https://www.sourcetreeapp.com/), [*GitKraken*](https://www.gitkraken.com/), [*GitHub Desktop*](https://desktop.github.com/), [*GitCola*](https://git-cola.github.io/), [*TortoiseGit*](https://tortoisegit.org/), и другие. Кроме того, некоторые редакторы, такие как [*JupyterLab*](https://jupyter.org/) и [*Visual Studio Code*](https://code.visualstudio.com/), также имеют встроенную поддержку Git.

Несмотря на то, что графические интерфейсы облегчают работу с Git для новичков и для выполнения простых задач, рекомендуется изучать Git из командной строки, так как это позволяет лучше понять, что происходит за кулисами и более точно контролировать ваши операции.

## Глава 3. Установка Git

Прежде чем начать использовать Git, необходимо установить его на свой компьютер. Git можно установить на Windows, Mac или Linux.

Для установки на Windows можно скачать установочный файл с [официального сайта Git](https://git-scm.com/downloads) и запустить его, следуя инструкциям установщика.

Для установки на Ubuntu можно использовать команду `sudo apt install git`, которая установит Git и все необходимые зависимости.

Для установки Git на Mac можно использовать Homebrew - менеджер пакетов для macOS. Для этого нужно открыть терминал и выполнить команду `brew install git`. Также Git можно установить с помощью официального установщика с [сайта Git](https://git-scm.com/downloads), который загрузит дистрибутив для macOS и установит Git в систему.

После установки необходимо настроить Git, добавить свой локальный репозиторий или склонировать существующий, чтобы начать работу с системой управления версиями.

## Глава 4. Настройка Git: имя пользователя и адрес электронной почты

После установки Git на свой компьютер необходимо выполнить настройку имени пользователя и адреса электронной почты, чтобы можно было отслеживать авторство изменений в репозитории. Это особенно важно при работе в команде.

Для настройки имени пользователя и адреса электронной почты в Git на Windows можно использовать команду `git config`. Откройте командную строку Git Bash и выполните следующие команды, заменив "*John Doe*" и "*johndoe@example.com*" на свои данные:

```bash
git config --global user.name "John Doe"
git config --global user.email johndoe@example.com
```

Для настройки имени пользователя и адреса электронной почты на macOS или Ubuntu также используйте команду `git config`, но выполните ее в терминале.

После выполнения этих команд имя пользователя и адрес электронной почты будут сохранены в конфигурационном файле Git и будут использоваться для всех коммитов, выполненных на данном компьютере.

## Глава 5. Команды Git для управления репозиторием

Git предоставляет широкий спектр команд для управления репозиторием. В этой главе мы рассмотрим более подробно наиболее важные команды, которые понадобятся при работе с Git.

### `git init` - создание нового локального репозитория.

Эта команда инициализирует пустой репозиторий в выбранной папке. Например:

```bash
git init my-repo
```

### `git clone` - клонирование существующего удаленного репозитория на локальный компьютер.

Эта команда копирует существующий репозиторий на ваш компьютер. Например:

```bash
git clone https://github.com/user/repo.git
```

### `git add` - добавление файлов в индекс (стейджинг).

Эта команда добавляет измененные файлы в индекс, чтобы они были включены в следующий коммит. Например:

```bash
git add file1.txt file2.txt
```

### `git commit` - сохранение изменений в репозитории.

Эта команда создает новый коммит с изменениями, которые были добавлены в индекс. Например:

```bash
git commit -m "Краткое текстовое описание коммита"
```

### `git push` - отправка изменений на удаленный репозиторий.

Эта команда отправляет коммиты на удаленный репозиторий. Например:

```bash
git push origin master
```
Здесь `origin` - имя удаленного репозитория, `master` - имя ветки, куда отправляется коммит.

### `git pull` - загрузка изменений с удаленного репозитория на локальный компьютер.

Эта команда загружает изменения с удаленного репозитория на ваш компьютер. Например:

```bash
git pull origin master
```
Здесь `origin` - имя удаленного репозитория, `master` - имя ветки, куда отправляется коммит.

### `git branch` - создание, переименование, удаление и просмотр веток в репозитории.

Эта команда позволяет работать с ветками в репозитории. Например:

```bash
git branch new-feature
git branch -m old-name new-name
git branch -d old-name
git branch
```

- **`git branch new-feature`**: данная команда создает новую ветку в вашем репозитории Git с именем "*new-feature*". Вы можете заменить "*new-feature*" на любое другое имя, которое вам нужно.
- **`git branch -m old-name new-name`**: данная команда переименовывает ветку с именем "*old-name*" на новое имя "*new-name*". Это может быть полезно, если вы хотите изменить имя существующей ветки на что-то более понятное или описательное.
- **`git branch -d old-name`**: данная команда удаляет ветку с именем "*old-name*" из вашего репозитория Git. Обратите внимание, что вы не можете удалить ветку, на которой вы находитесь в данный момент, или ветку, которая не была слита с другой веткой.
- **`git branch`**: данная команда отображает список веток в вашем репозитории Git. Ветка, на которой вы находитесь, будет отображаться звездочкой слева от ее имени.

### `git checkout` - переключение между ветками и перемещение в прошлом по истории коммитов. 

Эта команда является одной из основных команд Git и может быть использована во многих ситуациях.

Пример использования команды `git checkout` для переключения на другую ветку:

```bash
git checkout branch-name
```

где `branch-name` - это имя ветки, на которую вы хотите переключиться.

Если вы хотите создать новую ветку и переключиться на нее, то можно использовать команду `git checkout -b`:

```bash
git checkout -b new-branch-name
```
где `new-branch-name` - это имя новой ветки. 

Команда git checkout также может использоваться для перемещения в прошлом по истории коммитов. Для этого необходимо указать идентификатор коммита:

```bash
git checkout commit-id
```

где `commit-id` - это идентификатор коммита, на который вы хотите переместиться.

После того как вы переключились на другую ветку или переместились на другой коммит, вы можете использовать команду `git status`, чтобы увидеть текущее состояние вашего рабочего каталога и репозитория Git.

### `git merge` - объединение изменений из одной ветки в другую. 

Эта команда объединяет изменения из одной ветки в другую. Например:

```bash
git merge new-feature
```

Когда вы запускаете эту команду, Git пытается автоматически объединить изменения из указанной ветки в текущую ветку. Если изменения не конфликтуют между собой (например, не затрагивают одни и те же строки кода), то Git объединяет их автоматически.

Однако, если изменения конфликтуют (например, измененные строки кода в двух ветках различаются), Git может попросить вас вручную разрешить конфликт и выбрать, какие изменения нужно сохранить.

Например, допустим, вы работаете в ветке "*master*" и создали новую ветку "*new-feature*" для разработки нового функционала. После завершения работы в "*new-feature*" вы можете объединить ее изменения в "master", чтобы новый функционал стал доступным в основной ветке проекта. Для этого нужно выполнить следующие команды:

1. Переключитесь на ветку "*master*" с помощью команды `git checkout master`.
2. Выполните команду `git merge new-feature`.
3. Если Git не сможет автоматически объединить изменения, разрешите конфликты вручную.
4. Сохраните изменения и закоммитьте их в ветке "*master*" с помощью команды `git commit -m "Merge new-feature into master"`.

### `git status` - проверка состояния репозитория. 

Эта команда показывает, какие файлы были изменены, добавлены или удалены в репозитории. Например:

```bash
git status
```

Это лишь некоторые команды Git, которые вы будете использовать в повседневной работе. Команд Git гораздо больше.

### `git reset` - удаление из индекса, правка коммитов.

Если вы добавили ненужный файл в индексацию Git с помощью команды `git add`, то вы можете удалить его из индекса, используя команду `git reset`. Команда `git reset` с флагом `--mixed` отменяет индексацию файлов, не затрагивая рабочую директорию, поэтому добавленный вами файл останется в рабочей директории.

Чтобы отменить индексацию файла, выполните следующие действия:

1. Узнайте имя файла, который вы добавили в индексацию, с помощью команды `git status`. Файлы, находящиеся в индексе, будут перечислены в разделе "*Changes to be committed*".

2. Запустите команду `git reset` с флагом `--mixed` и указанием имени файла. Например, чтобы удалить файл `unwanted_file.txt` из индекса, выполните следующую команду:
    ```bash
    git reset --mixed unwanted_file.txt
    ```

3. Проверьте состояние репозитория с помощью команды `git status`. Файл `unwanted_file.txt` должен исчезнуть из раздела "*Changes to be committed*".

Теперь файл больше не будет индексироваться вместе с коммитом. 

Если вы создали коммит в Git, но пока не отправили его на удаленный сервер, то вы можете использовать команду `git reset` для отмены последнего коммита. Эта команда удаляет последний коммит и возвращает вам изменения в рабочую директорию и индекс.

Чтобы **отменить последний коммит**, выполните следующие действия:

1. Узнайте хэш последнего коммита, который вы хотите отменить, с помощью команды `git log`. Скопируйте первые 7 символов хэша. 
2. Запустите команду `git reset с флагом --soft` и указанием хэша коммита. Вы также можете воспользоваться специальным обозначением последнего коммита. Например, чтобы отменить последний коммит, выполните следующую команду:
    ```bash
    git reset --soft HEAD~1
    ```
    Здесь `HEAD~1` означает, что вы хотите отменить последний коммит.

3. Проверьте состояние репозитория с помощью команды `git status`. Вы увидите, что изменения, внесенные последним коммитом, находятся в индексе.
4. Исправьте код в рабочей директории, как вам нужно.
5. Добавьте измененные файлы в индекс с помощью команды `git add`.
6. Создайте новый коммит с помощью команды `git commit`.

Теперь вы успешно отменили последний коммит и создали новый коммит с исправлениями.

## Глава 6. Использование .gitignore

`.gitignore` - это файл, который используется в Git для указания файлов или директорий, которые должны быть проигнорированы Git-ом при отслеживании изменений в репозитории. Это может быть полезно, например, когда в вашем проекте есть файлы, которые вы не хотите отслеживать, такие как временные файлы, конфигурационные файлы, сгенерированные файлы и т.д.

Чтобы создать `.gitignore`, нужно создать файл с таким именем в корневом каталоге вашего репозитория и перечислить в нем все файлы и директории, которые вы хотите игнорировать.

Пример `.gitignore` файла:

```.gitignore
# игнорировать все файлы в папке build/
build/

# игнорировать все .txt файлы
*.txt

# игнорировать файл .DS_Store (файл, создаваемый macOS Finder)
.DS_Store

# игнорировать все файлы .log
*.log
```

В этом примере мы игнорируем все файлы в папке `build/`, все `.txt` файлы, файл `.DS_Store` (который создается macOS Finder), а также все файлы `.log`.

После создания `.gitignore` файл нужно добавить в репозиторий и закоммитить изменения, чтобы Git начал игнорировать указанные файлы.

Кроме того, если вы уже добавили файлы в репозиторий, которые должны быть проигнорированы, вам нужно удалить их из Git, используя команду `git rm --cached имя_файла` перед добавлением `.gitignore` файла в репозиторий.

Дополнительно к глобальному файлу `.gitignore`, который располагается в корневом каталоге вашего пользователя, Git также поддерживает локальные файлы `.gitignore`, которые могут быть расположены в любой директории репозитория. Это позволяет вам игнорировать файлы, специфичные для конкретной директории вашего проекта, не затрагивая другие части репозитория.

Cоздание правильного файла `.gitignore` может быть сложной задачей, особенно для новых проектов. Однако, можно воспользоваться популярными открытыми репозиториями, чтобы получить файл `.gitignore` для типовых проектов. 

На [GitHub](https://github.com) существует огромное количество открытых репозиториев с файлами `.gitignore`, которые могут быть использованы в качестве шаблонов для настроек игнорирования файлов и директорий в вашем проекте. Также, многие интегрированные среды разработки, такие как [*Visual Studio Code*](https://code.visualstudio.com/), предоставляют готовые шаблоны для файлов `.gitignore`, что значительно упрощает их создание.

## Глава 7. Решение конфликтов в Git

Когда вы работаете с Git в команде или с другими разработчиками, вполне вероятно, что вам придется столкнуться с ситуацией, когда два или более человек вносят изменения в один и тот же файл. В этом случае может произойти конфликт, когда Git не может автоматически объединить изменения из разных веток или ветки не могут быть автоматически слиты. В таких случаях Git требует ручного вмешательства.

Для решения конфликтов в Git вам необходимо:

1. Сначала необходимо получить информацию о конфликте с помощью команды `git status`. Эта команда покажет вам список всех файлов, которые находятся в состоянии конфликта.
2. Откройте каждый файл в редакторе кода и найдите разделы, которые Git пометил как конфликтные. Эти разделы будут помечены специальными маркерами Git.
3. Измените каждый файл, чтобы сохранить только нужные вам изменения и удалить маркеры конфликтов.
4. После того как вы внесли все изменения, которые необходимы, вы должны добавить эти файлы в индекс, используя команду `git add`.
5. Затем закоммитьте изменения с помощью команды `git commit`.
6. После коммита вы можете продолжить работу с вашим репозиторием.

Решение конфликтов может быть сложным и трудоемким процессом, особенно если вы работаете в команде с многими разработчиками. Хорошая коммуникация и понимание процесса работы с Git могут сделать этот процесс более гладким и эффективным.

## Глава 8. Основные принципы работы с Git

Основные принципы работы с Git не только помогут вам получить максимальную отдачу от использования системы контроля версий, но и предотвратят ненужные ошибки и проблемы. Вот несколько советов, которые помогут вам работать более эффективно с Git:

1. Регулярно коммитите свои изменения. Старайтесь коммитить изменения как можно чаще, это позволит вам быстро вернуться к предыдущей версии кода, если что-то пойдет не так. Каждый коммит должен быть логически связан с определенным изменением в вашем коде.
2. Создавайте новые ветки для нового функционала. Это позволит вам работать над несколькими функциями параллельно, не затрагивая код других функций. Когда вы закончите работу над функцией, вы можете легко залить ее в основную ветку.
3. Не изменяйте историю коммитов, которые уже были опубликованы в удаленном репозитории. Если вы уже опубликовали свой код, не изменяйте его историю, иначе вы можете сломать работу совместно используемого кода.
4. Используйте ветки для исправления ошибок. Если вы обнаружили ошибку в коде, создайте новую ветку для ее исправления. Это позволит вам работать над исправлением, не затрагивая код других функций.
5. Используйте `git pull` перед началом своей работы, чтобы получить последние изменения из удаленного репозитория. Если вы работаете в команде, важно получать изменения из удаленного репозитория, чтобы обеспечить согласованность кода.
6. Не добавляйте в репозиторий большие файлы. Git не подходит для хранения больших файлов, таких как видео и аудио файлы. Если вам необходимо хранить большие файлы, рассмотрите возможность использования специализированных хранилищ, таких как *Git LFS*.
7. Используйте `git log` для просмотра истории коммитов. Команда предоставляет полезную информацию о каждом коммите, включая автора, дату, время и комментарий к коммиту. Это может быть полезным при отслеживании изменений в вашем коде.

## Полезные ссылки

Ниже несколько полезных ссылок на ресурсы по Git:

- Официальный сайт Git: https://git-scm.com/
- Руководство по Git от GitLab: https://docs.gitlab.com/ee/gitlab-basics/
- Книга "Pro Git" (на русском): https://git-scm.com/book/ru/v2
- Справочник по командам Git: https://git-scm.com/docs
- Интерактивный обучающий курс Git: https://learngitbranching.js.org/
- Курс по Git от Codecademy: https://www.codecademy.com/learn/learn-git
- Курс по Git от Udacity: https://www.udacity.com/course/version-control-with-git--ud123
- Видеоуроки по Git на YouTube: https://www.youtube.com/results?search_query=git+tutorial
